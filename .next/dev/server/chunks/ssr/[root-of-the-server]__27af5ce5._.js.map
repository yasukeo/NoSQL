{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yasukeo/Desktop/NoSQL/flight-management/src/app/client/my-bookings/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\ninterface User {\r\n  uid: string;\r\n  email: string;\r\n  name: string;\r\n  role: string;\r\n}\r\n\r\ninterface Booking {\r\n  _id: string;\r\n  bid: string;\r\n  pid: string;\r\n  flno: string;\r\n  booking_date: string;\r\n  seat_number: string;\r\n  class: string;\r\n  status: string;\r\n  price_paid: number;\r\n}\r\n\r\ninterface Flight {\r\n  flno: string;\r\n  origin: string;\r\n  destination: string;\r\n  departure_date: string;\r\n  departure_time: string;\r\n  arrival_time: string;\r\n  distance: number;\r\n}\r\n\r\ninterface Passenger {\r\n  pid: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n}\r\n\r\nexport default function MyBookingsPage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [bookings, setBookings] = useState<Booking[]>([]);\r\n  const [flights, setFlights] = useState<Flight[]>([]);\r\n  const [passengers, setPassengers] = useState<Passenger[]>([]);\r\n  const [cancellingId, setCancellingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const checkAuth = () => {\r\n    try {\r\n      const storedUser = localStorage.getItem('user');\r\n      if (!storedUser) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n      const parsedUser = JSON.parse(storedUser) as User;\r\n      if (parsedUser.role !== 'client') {\r\n        router.push('/admin');\r\n        return;\r\n      }\r\n      setUser(parsedUser);\r\n      fetchData(parsedUser.email);\r\n    } catch (error) {\r\n      console.error('Erreur auth:', error);\r\n      router.push('/login');\r\n    }\r\n  };\r\n\r\n  const fetchData = async (userEmail: string) => {\r\n    try {\r\n      // R√©cup√©rer toutes les donn√©es\r\n      const [bookingsRes, flightsRes, passengersRes] = await Promise.all([\r\n        fetch('/api/bookings'),\r\n        fetch('/api/flights'),\r\n        fetch('/api/passengers')\r\n      ]);\r\n\r\n      const [allBookings, allFlights, allPassengers] = await Promise.all([\r\n        bookingsRes.json(),\r\n        flightsRes.json(),\r\n        passengersRes.json()\r\n      ]);\r\n\r\n      setFlights(allFlights);\r\n      setPassengers(allPassengers);\r\n\r\n      // Trouver le passager correspondant √† l'email de l'utilisateur\r\n      const userPassenger = allPassengers.find((p: Passenger) => p.email === userEmail);\r\n      \r\n      if (userPassenger) {\r\n        // Filtrer les r√©servations de ce passager\r\n        const userBookings = allBookings.filter((b: Booking) => b.pid === userPassenger.pid);\r\n        setBookings(userBookings);\r\n      } else {\r\n        setBookings([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getFlightInfo = (flno: string) => {\r\n    return flights.find(f => f.flno === flno);\r\n  };\r\n\r\n  // V√©rifier si l'annulation est possible (24h avant le vol)\r\n  const canCancel = (booking: Booking) => {\r\n    if (booking.status === 'Cancelled') return false;\r\n    \r\n    const flight = getFlightInfo(booking.flno);\r\n    if (!flight) return false;\r\n\r\n    // Combiner date et heure du vol\r\n    const flightDateTime = new Date(`${flight.departure_date}T${flight.departure_time}`);\r\n    const now = new Date();\r\n    const hoursUntilFlight = (flightDateTime.getTime() - now.getTime()) / (1000 * 60 * 60);\r\n\r\n    return hoursUntilFlight > 24;\r\n  };\r\n\r\n  // Calculer le temps restant avant le vol\r\n  const getTimeUntilFlight = (booking: Booking) => {\r\n    const flight = getFlightInfo(booking.flno);\r\n    if (!flight) return null;\r\n\r\n    const flightDateTime = new Date(`${flight.departure_date}T${flight.departure_time}`);\r\n    const now = new Date();\r\n    const hoursUntilFlight = (flightDateTime.getTime() - now.getTime()) / (1000 * 60 * 60);\r\n\r\n    if (hoursUntilFlight < 0) return 'Vol pass√©';\r\n    if (hoursUntilFlight < 24) return `${Math.round(hoursUntilFlight)}h restantes`;\r\n    const days = Math.floor(hoursUntilFlight / 24);\r\n    return `${days} jour${days > 1 ? 's' : ''} restant${days > 1 ? 's' : ''}`;\r\n  };\r\n\r\n  // Annuler une r√©servation\r\n  const handleCancel = async (booking: Booking) => {\r\n    if (!canCancel(booking)) {\r\n      alert('Annulation impossible : le vol part dans moins de 24 heures.');\r\n      return;\r\n    }\r\n\r\n    if (!confirm('√ätes-vous s√ªr de vouloir annuler cette r√©servation ?')) {\r\n      return;\r\n    }\r\n\r\n    setCancellingId(booking.bid);\r\n\r\n    try {\r\n      const res = await fetch('/api/bookings', {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          bid: booking.bid,\r\n          status: 'Cancelled'\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        // Mettre √† jour l'√©tat local\r\n        setBookings(prev => prev.map(b => \r\n          b.bid === booking.bid ? { ...b, status: 'Cancelled' } : b\r\n        ));\r\n        alert('R√©servation annul√©e avec succ√®s. Vous serez rembours√© sous 5-7 jours ouvr√©s.');\r\n      } else {\r\n        alert('Erreur lors de l\\'annulation');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      alert('Erreur lors de l\\'annulation');\r\n    } finally {\r\n      setCancellingId(null);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('user');\r\n    router.push('/login');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-900 to-blue-600 flex items-center justify-center\">\r\n        <div className=\"text-white text-2xl\">Chargement...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) return null;\r\n\r\n  // Fonction pour v√©rifier si un vol est pass√©\r\n  const isFlightPast = (booking: Booking) => {\r\n    const flight = getFlightInfo(booking.flno);\r\n    if (!flight) return false;\r\n    const flightDateTime = new Date(`${flight.departure_date}T${flight.departure_time}`);\r\n    return flightDateTime < new Date();\r\n  };\r\n\r\n  // S√©parer les r√©servations par statut (sans duplication)\r\n  const activeBookings = bookings.filter(b => \r\n    (b.status === 'Confirmed' || b.status === 'Pending') && !isFlightPast(b)\r\n  );\r\n  const pastBookings = bookings.filter(b => \r\n    b.status === 'Cancelled' || isFlightPast(b)\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-blue-700 to-blue-500\">\r\n      {/* Header */}\r\n      <header className=\"bg-white/10 backdrop-blur-md border-b border-white/20\">\r\n        <div className=\"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center\">\r\n          <Link href=\"/\" className=\"text-2xl font-bold text-white\">‚úàÔ∏è SkyFlight Airlines</Link>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <Link href=\"/client\" className=\"text-white/80 hover:text-white\">\r\n              R√©server un vol\r\n            </Link>\r\n            <Link href=\"/client/my-bookings\" className=\"text-white font-medium border-b-2 border-white\">\r\n              Mes r√©servations\r\n            </Link>\r\n            <div className=\"border-l border-white/30 pl-4 flex items-center space-x-3\">\r\n              <span className=\"text-white/80\">{user.name}</span>\r\n              <button \r\n                onClick={logout}\r\n                className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded text-sm font-medium transition\"\r\n              >\r\n                D√©connexion\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"max-w-6xl mx-auto px-4 py-8\">\r\n        <h1 className=\"text-3xl font-bold text-white mb-8\">üìã Mes R√©servations</h1>\r\n\r\n        {bookings.length === 0 ? (\r\n          <div className=\"bg-white rounded-2xl shadow-2xl p-12 text-center\">\r\n            <div className=\"text-6xl mb-4\">üé´</div>\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Aucune r√©servation</h2>\r\n            <p className=\"text-gray-500 mb-6\">Vous n'avez pas encore effectu√© de r√©servation.</p>\r\n            <Link \r\n              href=\"/client\"\r\n              className=\"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition\"\r\n            >\r\n              ‚úàÔ∏è R√©server un vol\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-8\">\r\n            {/* R√©servations actives */}\r\n            {activeBookings.length > 0 && (\r\n              <div>\r\n                <h2 className=\"text-xl font-semibold text-white mb-4\">üé´ R√©servations √† venir ({activeBookings.length})</h2>\r\n                <div className=\"space-y-4\">\r\n                  {activeBookings.map((booking) => {\r\n                    const flight = getFlightInfo(booking.flno);\r\n                    const canCancelBooking = canCancel(booking);\r\n                    const timeUntil = getTimeUntilFlight(booking);\r\n\r\n                    return (\r\n                      <div key={booking.bid} className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                        <div className=\"p-6\">\r\n                          <div className=\"flex justify-between items-start mb-4\">\r\n                            <div>\r\n                              <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                                booking.status === 'Confirmed' \r\n                                  ? 'bg-green-100 text-green-800' \r\n                                  : 'bg-yellow-100 text-yellow-800'\r\n                              }`}>\r\n                                {booking.status === 'Confirmed' ? '‚úì Confirm√©e' : '‚è≥ En attente'}\r\n                              </span>\r\n                              <span className=\"ml-3 text-gray-500 text-sm\">\r\n                                R√©servation #{booking.bid}\r\n                              </span>\r\n                            </div>\r\n                            {timeUntil && (\r\n                              <span className=\"text-sm text-blue-600 font-medium\">\r\n                                ‚è±Ô∏è {timeUntil}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n\r\n                          {flight && (\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"flex items-center space-x-4 mb-2\">\r\n                                  <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-bold\">\r\n                                    {flight.flno}\r\n                                  </span>\r\n                                  <span className=\"text-gray-500\">{flight.departure_date}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-4 text-lg\">\r\n                                  <div className=\"text-center\">\r\n                                    <p className=\"font-bold text-gray-800\">{flight.departure_time}</p>\r\n                                    <p className=\"text-gray-600\">{flight.origin}</p>\r\n                                  </div>\r\n                                  <div className=\"flex-1 flex items-center px-4\">\r\n                                    <div className=\"flex-1 border-t-2 border-dashed border-gray-300\"></div>\r\n                                    <span className=\"px-3 text-gray-400\">‚úàÔ∏è</span>\r\n                                    <div className=\"flex-1 border-t-2 border-dashed border-gray-300\"></div>\r\n                                  </div>\r\n                                  <div className=\"text-center\">\r\n                                    <p className=\"font-bold text-gray-800\">{flight.arrival_time}</p>\r\n                                    <p className=\"text-gray-600\">{flight.destination}</p>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div className=\"ml-6 text-right\">\r\n                                <div className=\"text-sm text-gray-500 mb-1\">\r\n                                  Si√®ge: <span className=\"font-bold text-gray-800\">{booking.seat_number}</span>\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-500 mb-1\">\r\n                                  Classe: <span className=\"font-medium\">{booking.class}</span>\r\n                                </div>\r\n                                <div className=\"text-xl font-bold text-green-600\">\r\n                                  {booking.price_paid.toFixed(2)} ‚Ç¨\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"mt-4 pt-4 border-t flex justify-between items-center\">\r\n                            <p className=\"text-sm text-gray-500\">\r\n                              R√©serv√© le {booking.booking_date}\r\n                            </p>\r\n                            {canCancelBooking ? (\r\n                              <button\r\n                                onClick={() => handleCancel(booking)}\r\n                                disabled={cancellingId === booking.bid}\r\n                                className=\"bg-red-100 text-red-600 px-4 py-2 rounded-lg hover:bg-red-200 transition font-medium disabled:opacity-50\"\r\n                              >\r\n                                {cancellingId === booking.bid ? 'Annulation...' : '‚úï Annuler la r√©servation'}\r\n                              </button>\r\n                            ) : (\r\n                              <span className=\"text-sm text-gray-400 italic\">\r\n                                Annulation impossible (moins de 24h)\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Historique */}\r\n            {pastBookings.length > 0 && (\r\n              <div>\r\n                <h2 className=\"text-xl font-semibold text-white mb-4\">üìú Historique ({pastBookings.length})</h2>\r\n                <div className=\"space-y-4\">\r\n                  {pastBookings.map((booking) => {\r\n                    const flight = getFlightInfo(booking.flno);\r\n\r\n                    return (\r\n                      <div key={booking.bid} className=\"bg-white/80 rounded-xl shadow-lg overflow-hidden opacity-75\">\r\n                        <div className=\"p-6\">\r\n                          <div className=\"flex justify-between items-start mb-4\">\r\n                            <div>\r\n                              <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                                booking.status === 'Cancelled' \r\n                                  ? 'bg-red-100 text-red-800' \r\n                                  : 'bg-gray-100 text-gray-800'\r\n                              }`}>\r\n                                {booking.status === 'Cancelled' ? '‚úï Annul√©e' : '‚úì Termin√©'}\r\n                              </span>\r\n                              <span className=\"ml-3 text-gray-500 text-sm\">\r\n                                R√©servation #{booking.bid}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {flight && (\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"flex items-center space-x-4 mb-2\">\r\n                                  <span className=\"bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold\">\r\n                                    {flight.flno}\r\n                                  </span>\r\n                                  <span className=\"text-gray-500\">{flight.departure_date}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-4\">\r\n                                  <span className=\"text-gray-600\">{flight.origin}</span>\r\n                                  <span className=\"text-gray-400\">‚Üí</span>\r\n                                  <span className=\"text-gray-600\">{flight.destination}</span>\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div className=\"ml-6 text-right\">\r\n                                <div className=\"text-sm text-gray-500\">\r\n                                  {booking.class} ‚Ä¢ Si√®ge {booking.seat_number}\r\n                                </div>\r\n                                <div className=\"font-bold text-gray-600\">\r\n                                  {booking.price_paid.toFixed(2)} ‚Ç¨\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Bouton nouvelle r√©servation */}\r\n        <div className=\"mt-8 text-center\">\r\n          <Link \r\n            href=\"/client\"\r\n            className=\"inline-block bg-white text-blue-600 px-8 py-3 rounded-lg font-bold hover:bg-blue-50 transition\"\r\n          >\r\n            ‚úàÔ∏è Nouvelle r√©servation\r\n          </Link>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-white/10 backdrop-blur-md border-t border-white/20 mt-12\">\r\n        <div className=\"max-w-6xl mx-auto px-4 py-6 text-center text-white/70\">\r\n          <p>¬© 2024 SkyFlight Airlines - Projet NoSQL MongoDB</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}